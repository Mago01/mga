<!DOCTYPE html>
<html lang="en">
	<head>
		<link rel="stylesheet" href="css/widget.css">		
	</head>
	<body>
		<div class="widget">
			<div class="widget-header">
				<div class="top-headerLine">
				</div>
				<div class="bottom-headerLine">
				</div>
				<div class="widgetLogo">
				<img src="assets/mga_logo.png" class="widgetImage">
				</div>
			</div>
			<div id="widgetBody">
			<div>
				<h2>Please fill out the following fields to contact MGA Entertainment</h2>
			</div> 
			<form id="widget-form" onsubmit="return validate()" method="post" >
				<div>
					<label for="name">Full Name:*</label>
					<div>
						<img src="assets/name_icon.png">
						<input type="text" id="name" name="contact_name" placeholder="John Doe">
						<img src="assets/warning_icon.png" class="noError" id="erName">
					</div>
					<!-- name vaidation output  -->
					<p id="valName" class="validate"></p>
  				</div>
				<div>
					<label for="phone">Mobile Phone Number:*</label>
					<div>
						<img src="assets/phone_icon.png">
						<input type="text" id="phone" name="phoneNumber" placeholder="ex:123-123-1234">
						<img src="assets/warning_icon.png" class="noError" id="erPhone">
					</div>
					<p id="valPhone" class="validate"></p>
  				</div>
				<label for="state">State:*</label>
				<select id="state" name="state" onchange="california()">
					<option value="none">Select one</option>
					<option value="AL">Alabama</option>
					<option value="AK">Alaska</option>
					<option value="AZ">Arizona</option>
					<option value="AR">Arkansas</option>
					<option value="CA">California</option>
					<option value="CO">Colorado</option>
					<option value="CT">Connecticut</option>
					<option value="DE">Delaware</option>
					<option value="DC">District Of Columbia</option>
					<option value="FL">Florida</option>
					<option value="GA">Georgia</option>
					<option value="HI">Hawaii</option>
					<option value="ID">Idaho</option>
					<option value="IL">Illinois</option>
					<option value="IN">Indiana</option>
					<option value="IA">Iowa</option>
					<option value="KS">Kansas</option>
					<option value="KY">Kentucky</option>
					<option value="LA">Louisiana</option>
					<option value="ME">Maine</option>
					<option value="MD">Maryland</option>
					<option value="MA">Massachusetts</option>
					<option value="MI">Michigan</option>
					<option value="MN">Minnesota</option>
					<option value="MS">Mississippi</option>
					<option value="MO">Missouri</option>
					<option value="MT">Montana</option>
					<option value="NE">Nebraska</option>
					<option value="NV">Nevada</option>
					<option value="NH">New Hampshire</option>
					<option value="NJ">New Jersey</option>
					<option value="NM">New Mexico</option>
					<option value="NY">New York</option>
					<option value="NC">North Carolina</option>
					<option value="ND">North Dakota</option>
					<option value="OH">Ohio</option>
					<option value="OK">Oklahoma</option>
					<option value="OR">Oregon</option>
					<option value="PA">Pennsylvania</option>
					<option value="RI">Rhode Island</option>
					<option value="SC">South Carolina</option>
					<option value="SD">South Dakota</option>
					<option value="TN">Tennessee</option>
					<option value="TX">Texas</option>
					<option value="UT">Utah</option>
					<option value="VT">Vermont</option>
					<option value="VA">Virginia</option>
					<option value="WA">Washington</option>
					<option value="WV">West Virginia</option>
					<option value="WI">Wisconsin</option>
					<option value="WY">Wyoming</option>
				</select>
				<img src="assets/warning_icon.png" class="noError" id="erState">
				<p id="valState" class="validate"></p>	
				<div id="onlyCA" class="conformHide">
					<label for="wasCA">Was your item purchased in CA?:*</label>
					<select id="wasCA" name="wasCA" >
						<option value="none">Select one</option>
						<option value="Yes">Yes</option>
						<option value="No">No</option>
					</select>
					<img src="assets/warning_icon.png" class="noError" id="erCA">
					<p id="valCA" class="validate"></p>
				</div>
				<div>
					<label for="question">Describe your question:*</label>
					<textarea id="question" name="question"></textarea> 
					<img src="assets/warning_icon.png" class="noError" id="erQuestion">
					<p id="valQuestion" class="validate"></p>
				</div>
				<div class="button">
					<input type="submit" value="Submit">
					<p><span class="red">*</span>Required field</p>
				</div>
			</form>

			</div>
		<div id="widgetConformation" class="conformHide">
			<h2>Thank You!</h2>
			<h2>We have received your message and will reach out to you as soon as humanly possible</h2>
		</div>
		</div>
		<script>
			var x = document.getElementById("widget-form");
			x.addEventListener("focusin", myFocusFunction);
			x.addEventListener("focusout", myBlurFunction);

			function myFocusFunction() {
    			document.getElementById("name").style.backgroundColor = "lightblue";  
			}

			function myBlurFunction() {
    			document.getElementById("name").style.backgroundColor = "";  
			}
			function validate(){
				var y, pnum, sta, caConf, desc;
				var flag=true;
				//Name validation y is the input for name
				y=document.getElementById("name").value;
				if(y.length<1 || !isNaN(y) ){
					document.getElementById("name").className = "red";
					document.getElementById("erName").classList.remove("noError");
					document.getElementById("valName").innerHTML = "Full Name is a required field.";
					flag=false
				} else{	
					document.getElementById("name").classList.remove("red");
					document.getElementById("erName").className = "noError";
					document.getElementById("valName").innerHTML = "";
				}
				// phone number validation pnum is the input for phone number
				pnum=document.getElementById("phone").value;
				if(pnum.length<1 || isNaN(pnum) ){
					document.getElementById("phone").className = "red";
					document.getElementById("erPhone").classList.remove("noError");
					document.getElementById("valPhone").innerHTML = "Mobile number is a required field.";
					flag=false
				} else if (pnum.length != 10){
					document.getElementById("phone").className = "red";
					document.getElementById("erPhone").classList.remove("noError");
					document.getElementById("valPhone").innerHTML = "Please enter a valid phone number.";
					flag=false
				} else{	
					document.getElementById("phone").classList.remove("red");
					document.getElementById("erPhone").className = "noError";
					document.getElementById("valPhone").innerHTML = "";
				}
				sta=document.getElementById("state").value;
				caConf=document.getElementById("wasCA").value;
				if (sta=="none" ){
					document.getElementById("state").className = "red";
					document.getElementById("erState").classList.remove("noError");
					document.getElementById("valState").innerHTML = "State is a required field.";
					flag=false
				} else if (sta === "CA" && caConf =="none"){
					document.getElementById("wasCA").className = "red";
					document.getElementById("valState").innerHTML = "";
					document.getElementById("erCA").classList.remove("noError");
					document.getElementById("erState").className = "noError";
					document.getElementById("valCA").innerHTML = "California conformation is required field.";
					flag=false
				} else {
					document.getElementById("state").classList.remove("red");
					document.getElementById("wasCA").classList.remove("red");
					document.getElementById("erCA").className = "noError";
					document.getElementById("erState").className = "noError";
					document.getElementById("valState").innerHTML = "";
					document.getElementById("valCA").innerHTML = "";
				}
				desc=document.getElementById("question").value;
				if (desc.length<7) {
					document.getElementById("question").className = "red";
					document.getElementById("erQuestion").classList.remove("noError");
					document.getElementById("valQuestion").innerHTML = "Description is a required field.";
					flag=false;
				} else {
					document.getElementById("question").classList.remove("red");
					document.getElementById("erQuestion").className = "noError";
					document.getElementById("valQuestion").innerHTML = "";
				}
				if (flag) {
					document.getElementById("widgetBody").className = "conformHide";
					document.getElementById("widgetConformation").classList.remove("conformHide");
				}
			 return false;
			}
			function california(){
				var sta;
				sta=document.getElementById("state").value;
				if (sta === "CA") {
					document.getElementById("onlyCA").classList.remove("conformHide");
				}else{
					document.getElementById("onlyCA").className = "conformHide";
				}
				return false;
			}
		</script>
	</body>
</html>